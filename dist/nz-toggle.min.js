!function(){var l=angular.module("nzToggle",[]);l.directive("nzToggle",["$timeout",function(l){return{restrict:"E",replace:!0,scope:{config:"=?",ngModel:"=",onToggle:"&",ngDisabled:"="},template:['<div class="nz-toggle-wrap" ng-class="getStyle()" ng-style="wrapStyle">','   <div class="nz-toggle">','       <div class="nz-toggle-handle"></div>',"   </div>",'   <div class="nz-toggle-tooltip" ng-show="tooltip">',"       <span ng-class=\"{'active': showTooltip1}\">",'           <span ng-show="tipFalse"></span>{{tipFalse}}',"       </span>",'       <br ng-show="vertical">','       <span ng-class="{\'active\': showTooltip2}" ng-show="triToggle">','           <span ng-show="tipNull"></span>{{tipNull}}',"       </span>",'       <br ng-show="vertical">',"       <span ng-class=\"{'active': showTooltip3}\">",'           <span ng-show="tipTrue"></span>{{tipTrue}}',"       </span>","   </div>","</div>"].join(""),link:function(o,e,t){function a(){s(),y(x.ngModel)||(y(x.valDefault)?x.ngModel=x.valDefault:x.triToggle?x.ngModel=x.valNull:x.ngModel=x.valFalse);var l=!0;x.$watch("ngModel",function(){if(c(),l)return void(l=!1)},!0),v(e[0],"mousedown touchstart",i),v(e[0],"click",n),x.$on("$destroy",function(){p(e[0],"mousedown touchstart",i),p(window,"mousemove touchmove",r),p(window,"mouseup touchend",u),p(e[0],"click",n)})}function n(l){T<1&&d()}function i(l){if(!x.ngDisabled)return l=l?l:window.event,h={x:l.pageX||l.touches[0].pageX,y:l.pageY||l.touches[0].pageY},T=0,M.css("transition","0s"),v(window,"mousemove touchmove",r),v(window,"mouseup touchend",u),l.stopPropagation(),l.returnValue=!1,!1}function r(l){l=l?l:window.event;var o=(l.pageY||l.touches[0].pageY)-h.y,t=(l.pageX||l.touches[0].pageX)-h.x,a=e[0].offsetHeight,n=e[0].offsetWidth,i=o/(a/2)*100,r=t/(n/2)*100;return x.vertical?(f=parseFloat(F.vertical[x.state]),w=Math.max(Math.min(parseFloat(i+f),100),0),m=f+(w-f)/2,M.css("top",m+"%")):(f=parseFloat(F.horizontal[x.state]),w=Math.max(Math.min(parseFloat(r+f),100),0),m=f+(w-f)/2,M.css("left",m+"%")),T=Math.max(T,Math.max(Math.abs(o),Math.abs(t))),l.stopPropagation(),l.returnValue=!1,!1}function u(l){return l=l?l:window.event,h=!1,x.$apply(function(){if(!(T<1&&"mouseup"==l.type))return T<1&&"touchend"==l.type?void d():x.triToggle?x.vertical?w>73?void d("false"):w>27?void d("null"):void d("true"):w<27?void d("false"):w<73?void d("null"):void d("true"):x.vertical?w>50?void d("false"):void d("true"):w<50?void d("false"):void d("true")}),M.css({top:"",left:"",transition:""}),p(window,"mousemove touchmove",r),p(window,"mouseup touchend",u),l.stopPropagation(),l.returnValue=!1,!1}function s(){if(angular.extend(x,b,x.config||{}),y(t.triToggle)&&(x.triToggle=!0),angular.forEach(["valDefault","valTrue","valFalse","valNull","width","height","colorFalse","colorNull","colorTrue"],function(l){y(t[l])&&(x[l]=x.$eval(t[l]))}),angular.forEach(["tipTrue","tipFalse","tipNull"],function(l){y(t[l])&&x.$watch(t[l],function(o){x[l]=o})}),(x.tipTrue||t.tipFalse||t.tipNull)&&(x.tooltip=!0),y(t.vertical)){x.vertical=!0;var l;x.tooltip&&(l=x.tipTrue,x.tipTrue=x.tipFalse,x.tipFalse=l),x.$eval(t.width)||x.$eval(t.width)||x.config&&(x.config.width||x.config.height)||(l=x.width,x.width=x.height,x.height=l)}x.wrapStyle={width:x.width+"px",height:x.height+"px"},y(x.outerRadius)||(x.outerRadius=Math.min(x.width,x.height)/2),x.innerRadius=x.outerRadius-x.padding}function g(){return[x.vertical?"vertical":"horizontal",x.state]}function c(){return x.showTooltip1=!1,x.showTooltip2=!1,x.showTooltip3=!1,angular.equals(x.ngModel,x.valTrue)?(null!=x.colorTrue&&(x.wrapStyle.backgroundColor=x.colorTrue),x.state="true",void(x.vertical?x.showTooltip1=!0:x.showTooltip3=!0)):angular.equals(x.ngModel,x.valFalse)?(x.state="false",null!=x.colorFalse&&(x.wrapStyle.backgroundColor=x.colorFalse),void(x.vertical?x.showTooltip3=!0:x.showTooltip1=!0)):(x.state="null",null!=x.colorNull&&(x.wrapStyle.backgroundColor=x.colorNull),void(x.showTooltip2=!0))}function d(o){if(!x.ngDisabled){var e=N(x.ngModel);if(o){if(x.state=o,"false"===o)return void(x.ngModel=x.valFalse);if("null"===o)return void(x.ngModel=x.valNull);x.ngModel=x.valTrue}else{if("false"==x.state)return void(x.ngModel=x.triToggle?x.valNull:x.valTrue);if("null"==x.state)return void(x.ngModel=x.valTrue);x.ngModel=x.valFalse}l(function(){if(x.onToggle.call&&e!=x.ngModel){var l=x.onToggle();l&&l.call&&l(x.ngModel)}})}}function v(l,o,e){for(var t=o.split(" "),a=0,n=t.length;a<n;a++)l.addEventListener(t[a],e,!1)}function p(l,o,e){for(var t=o.split(" "),a=0,n=t.length;a<n;a++)l.removeEventListener(t[a],e,!1)}var h,f,w,T,m,M=angular.element(e[0].querySelector(".nz-toggle-handle")),F={horizontal:{"false":0,"null":50,"true":100},vertical:{"false":100,"null":50,"true":0}},y=angular.isDefined,N=angular.copy,b={vertical:!1,valTrue:!0,valFalse:!1,valNull:null,width:50,height:25,padding:3,colorTrue:null,colorFalse:null,colorNull:null,tooltip:!1},x=o;angular.extend(x,{getStyle:g,toggle:d}),a()}}}])}();